---
pagetitle: "Lesson 7"
title: "Sort a Data Frame in R (order() and arrange())"
editor_options:
  chunk_output_type: inline
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  fig.align = "center",
  message = FALSE,
  warning = FALSE
)
```

In data analysis you often need to sort rows by one or more variables. In base R, this is commonly done with `order()`, which returns the indices of the sorted order.

# order() vs sort()

- `sort(x)` returns the sorted values.
- `order(x)` returns the indices that would sort `x`.

```{r}
x <- c(5, 1, 10)
sort(x)
order(x)
x[order(x)]
```

# Example data

```{r}
library(tibble)
set.seed(1234)

df <- tibble(
  c1 = rnorm(50, 5, 1.5),
  c2 = rnorm(50, 5, 1.5),
  c3 = rnorm(50, 5, 1.5),
  c4 = rnorm(50, 5, 1.5),
  c5 = rnorm(50, 5, 1.5)
)
df
```

# Sort with base R (order)

## Example 1: Sort by one column (ascending)

```{r}
df_c1 <- df[order(df$c1), ]
head(df_c1)
```

## Example 2: Sort by multiple columns (ascending, ascending)

```{r}
df_c3_c4 <- df[order(df$c3, df$c4), ]
head(df_c3_c4)
```

## Example 3: Mixed order (descending then ascending)

A common base R trick is using `-x` for descending order (numeric columns only).

```{r}
df_desc <- df[order(-df$c3, df$c4), ]
head(df_desc)
```

# Sort with dplyr (arrange)

`dplyr::arrange()` is often easier to read than `order()` when sorting by multiple columns.

```{r}
library(dplyr)

df |>
  arrange(c1) |>
  head()
```

Multiple columns:

```{r}
df |>
  arrange(c3, c4) |>
  head()
```

Mixed directions:

```{r}
df |>
  arrange(desc(c3), c4) |>
  head()
```
