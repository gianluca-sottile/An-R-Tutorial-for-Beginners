---
pagetitle: "Lesson 6"
title: "Lists in R: Create and Select Elements (with Examples)"
editor_options:
  chunk_output_type: inline
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  fig.align = "center",
  message = FALSE,
  warning = FALSE
)
```

# What is a list?

A list is R’s most flexible data structure: it can store objects of **different types** in a single container (vectors, matrices, data frames, even other lists or functions).

# Create a list

Use `list()` to create a list:

```{r, eval=FALSE}
list(element_1, element_2, ...)
```

## Example: vector + matrix + data frame

### Step 1: Create a vector

```{r}
vect <- 1:5
vect
```

### Step 2: Create a matrix

Your original example had inconsistent dimensions; here is a correct 2x5 matrix:

```{r}
mat <- matrix(1:10, nrow = 2, ncol = 5)
dim(mat)
mat
```

### Step 3: Create a data frame (from a built-in dataset)

```{r}
df <- as.data.frame(EuStockMarkets)[1:10, ]
head(df)
```

### Step 4: Put them into a list

It is best practice to **name** list elements so you can extract them by name later.

```{r}
my_list <- list(
  vect = vect,
  mat  = mat,
  df   = df
)

my_list
names(my_list)
```

# Select elements from a list

There are three common ways to extract elements:

- `my_list[1]` returns a **sub-list** (still a list)
- `my_list[[1]]` returns the **element itself**
- `my_list$name` is shorthand for `my_list[["name"]]`

## Example: single vs double brackets

```{r}
my_list      # a list of length 1
my_list[]    # the matrix itself
```

## Extract by name

```{r}
my_list[["df"]]
my_list$df
```

# Built-in dataset example (CSV)

This section shows how a CSV is read into a data frame, and how to select columns.

```{r}
path <- "raw_data/prison.csv"

prison <- read.csv(path, stringsAsFactors = FALSE)

# Keep the first 5 columns (all rows)
prison_5 <- prison[, 1:5]
head(prison_5, 5)

str(prison_5)
```

Note:
- `prison[, 1:5]` means “all rows, columns 1 to 5”.
- If you use `prison[1:5]` without the comma, R interprets it as selecting columns too, but `prison[, 1:5]` is clearer and safer when teaching.

